<div class="nft-wrapper">
  <h1 class="nft-title">NFT’s</h1>
  <div class="search-bar">
    <div class="search-field">
      <img src="/assets/icons/search.png" class="search-icon" alt="search icon" />
      <input
        class="search-input"
        placeholder="Search by title, category, or price"
        [(ngModel)]="searchTermInput"
        (keyup.enter)="applySearch()"
      />
    </div>
  </div>

  <div class="nft-grid">
    <div *ngFor="let nft of filteredNfts()" class="nft-card" (click)="goToDetail(nft.id)"  >
    <div class="card-bar" >
        <img class="avatar" [src]="nft.ownerAvatar" alt="avatar" (click)="$event.stopPropagation()">
        <p class="username">{{ nft.username || 'Unknown' }}</p>

        <button class="like" (click)="toggleLike(nft.id); $event.stopPropagation()">
          ❤ <span>{{ likes(nft.id) }}</span>
        </button>
        <button class="more">⋯</button>
      </div>

      <img class="nft-image" [src]="nft.image" [alt]="nft.title" >

      <div class="nft-info">
        <p class="nfts-title">{{ nft.title }}</p>
        <p class="nft-subtitle">{{ nft.subtitle }}</p>

        <p class="nft-category">
          Category: <span>{{ nft.category }}</span>
        </p>
        <p class="nft-price">$ {{ nft.price }}</p>
        <button class="buy-btn" *ngIf="isLoggedIn" (click)="buyNft(nft);$event.stopPropagation()"  >Buy</button>
      </div>
    </div>
  </div>
</div>
